## dom  树从何时开始构建？如何构建？

​	dom 树的构建是从接收到文档开始，浏览器会一边解析字节流，一边构建 DOM 树。！！不需要等待整个 html 文档解析完成再构建 DOM 树，呈现布局。

例如：演示案例中，浏览器页面显示的东西：首先显示一个 helloworld，然后 script 标签阻塞 dom 树的构建，后两个是一个意思，但是当 script 全部执行完成后，页面中的 helloworld 还会改变样式，说明浏览器会尽早把页面内容显示出来。（这其实就是引起重绘了）

## script 标签内容加载问题

​	Script 标签的加载会打断页面的渲染（例如会出现页面显示一半），可以在 script 标签上添加 defer 和 async 属性实现异步加载。

​	区别：

​	1-async：脚本加载于执行都是异步进行的，加载完毕立即执行。

缺陷：各个脚本间的内容不是按照顺序执行的，如果他们之间存在依赖关系，会出现问题；

​	2-defer：各个脚本还是会按照顺序执行；但是执行会统一在所有元素解析完成后，DomContentLoaded 回调执行之前执行；

## 为什么 script 标签不放到 body 之前？

​	1.因为 script 可能会去操作 dom，所以浏览器会阻塞 dom 的构建，这时候就可能会出现较长时间空白页，或者页面一段时间只显示了一部分页面，用户体验不好；

​	2.如果 script 去操作了 dom，而这个时候该 dom 结构也可能没有生成；

